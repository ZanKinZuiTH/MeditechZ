# โมดูลการจัดการผู้ป่วย (Patient Management Module)

## ภาพรวม
โมดูลการจัดการผู้ป่วยเป็นส่วนหนึ่งของระบบ MeditechZ ที่พัฒนาต่อยอดจากระบบ MediTech เดิม โดยปรับเปลี่ยนจากแพลตฟอร์ม Desktop Application (WPF) มาเป็น Web Application ด้วย React และ TypeScript

## โครงสร้างโมดูล
```
patient-management/
├── components/              # คอมโพเนนต์ย่อยต่างๆ
│   ├── PatientSearch.tsx    # คอมโพเนนต์สำหรับค้นหาผู้ป่วย
│   ├── PatientForm.tsx      # คอมโพเนนต์สำหรับกรอกข้อมูลผู้ป่วย
│   └── VisitCreation.tsx    # คอมโพเนนต์สำหรับสร้างการเข้ารับบริการ
├── pages/                   # หน้าจอหลักของโมดูล
│   └── PatientRegistration.tsx  # หน้าจอลงทะเบียนผู้ป่วย
└── README.md                # เอกสารอธิบายโมดูล
```

## การปรับใช้จากระบบเดิม
โมดูลนี้ได้รับการพัฒนาโดยนำแนวคิดและฟังก์ชันการทำงานจากระบบ MediTech เดิม มาปรับใช้ให้เข้ากับเทคโนโลยีใหม่ โดยมีการปรับเปลี่ยนดังนี้:

### 1. การปรับเปลี่ยนเทคโนโลยี
- **เดิม**: WPF (XAML + C#) บน .NET Framework
- **ใหม่**: React + TypeScript + TailwindCSS บน Web Platform

### 2. การปรับปรุงโครงสร้างข้อมูล
- **เดิม**: ใช้ Entity Framework กับฐานข้อมูล SQL Server
- **ใหม่**: ใช้ SQLAlchemy กับฐานข้อมูล PostgreSQL ผ่าน RESTful API

### 3. การปรับปรุง UI/UX
- **เดิม**: ใช้ DevExpress UI Controls
- **ใหม่**: ใช้ Modern UI Components ที่พัฒนาด้วย TailwindCSS และ Radix UI

### 4. การปรับปรุงกระบวนการทำงาน
- **เดิม**: ใช้ Wizard แบบ 3 ขั้นตอน (ค้นหา > ลงทะเบียน > สร้าง Visit)
- **ใหม่**: ใช้ Tabs แบบ 3 แท็บ (ค้นหาผู้ป่วย, ลงทะเบียนผู้ป่วย, สร้างการเข้ารับบริการ)

## ฟีเจอร์หลัก
1. **การค้นหาผู้ป่วย**
   - ค้นหาด้วยชื่อ-นามสกุล
   - ค้นหาด้วยเลขบัตรประชาชน
   - ค้นหาด้วยรหัสผู้ป่วย (HN)

2. **การลงทะเบียนผู้ป่วย**
   - กรอกข้อมูลพื้นฐาน (ชื่อ, นามสกุล, เลขบัตรประชาชน, วันเกิด, เพศ)
   - กรอกข้อมูลเพิ่มเติม (หมู่เลือด, ที่อยู่, เบอร์โทรศัพท์, อีเมล)
   - กรอกข้อมูลติดต่อฉุกเฉิน
   - กรอกข้อมูลทางการแพทย์ (ประวัติการแพ้ยา, โรคประจำตัว)

3. **การสร้างการเข้ารับบริการ**
   - เลือกแพทย์ผู้ตรวจ
   - กำหนดวันและเวลานัดหมาย
   - ระบุเหตุผลในการเข้ารับบริการ
   - เพิ่มหมายเหตุ

4. **ฟีเจอร์พิเศษ**
   - การอ่านบัตรประชาชนอัตโนมัติ
   - การพิมพ์ใบนัดหมาย

## API Endpoints
โมดูลนี้ใช้งาน API Endpoints ต่อไปนี้:

- `GET /api/v1/patients/search` - ค้นหาผู้ป่วย
- `POST /api/v1/patients` - สร้างผู้ป่วยใหม่
- `PUT /api/v1/patients` - อัปเดตข้อมูลผู้ป่วย
- `GET /api/v1/users/doctors` - ดึงรายชื่อแพทย์
- `POST /api/v1/appointments` - สร้างการเข้ารับบริการใหม่
- `GET /api/v1/appointments/{id}/print` - พิมพ์ใบนัดหมาย

## การใช้งาน
1. นำทางไปยังหน้า `/patients/register`
2. ค้นหาผู้ป่วยที่มีอยู่แล้ว หรือเลือก "ลงทะเบียนผู้ป่วยใหม่"
3. กรอกข้อมูลผู้ป่วยให้ครบถ้วน และกดปุ่ม "ลงทะเบียนผู้ป่วย"
4. กรอกข้อมูลการเข้ารับบริการ และกดปุ่ม "สร้างการเข้ารับบริการ" หรือ "สร้างและพิมพ์"

## การพัฒนาต่อยอด
- เพิ่มการอัปโหลดรูปถ่ายผู้ป่วย
- เพิ่มการสแกนลายนิ้วมือ
- เพิ่มการเชื่อมต่อกับระบบประกันสุขภาพ
- เพิ่มการแจ้งเตือนการนัดหมายผ่าน SMS หรืออีเมล 